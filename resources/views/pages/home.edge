<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> AdonisJS - A fully featured web framework for Node.js </title>

  @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>

<body class="max-w-3xl mx-auto mt-6">
  @include('partials/nav')

  <h1> It Works! </h1>

  <ul class="flex flex-col gap-4">
    @each((movie, index) in movies)
    @let(isFirst = index == 0)

    <li class="{{
        html.classNames([
          'p-4 border',
          {
            'border-blue-500': isFirst,
            'border-slate-300': !isFirst
          }
        ])
      }}">
      <a href="{{ route('movies.show', { slug: movie.slug })}}">{{ movie.title }}</a>
      <p class="text-slate-700">{{ truncate(movie.summary, 50, { completeWords: true }) }}</p>
    </li>
    @end
  </ul>
</body>

</html>
